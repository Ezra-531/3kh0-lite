<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <title>Miscellaneous | Vermin Supreme's Palace</title>
    <style>
        body {
            background-color: #121212;
            color: #ffffff;
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        .text-center {
            text-align: center;
        }
        .button-wrapper {
            display: flex;
            justify-content: space-between;
            margin-top: 1em;
        }
        input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 10px;
            background-color: #2c2c2c;
            color: #ffffff;
            margin-bottom: 1em;
        }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            background-color: #b625cc;
            color: #ffffff;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h2 class="text-center" style="font-size: 2em; margin-bottom: 1em;">Miscellaneous Stuff</h2>

    <!-- Section for about:blank page creation -->
    <div style="width: 100%; max-width: 600px; margin-bottom: 2em;">
        <div>
            <h1>about:blank</h1>
            <p>Enter a URL you want to be opened in an about:blank page below:</p>
            <input id="url-target" type="url" pattern="https://.*" placeholder="Enter a website URL" autocomplete="on" />
            <p>Note this will not work with some websites, but you can copy the link of this website and put it in for extra privacy.</p>
        </div>
        <div class="button-wrapper">
            <button id="create">Create Page</button>
        </div>
    </div>

    <!-- Section for changing tab title and favicon -->
    <div style="width: 100%; max-width: 600px;">
        <div>
            <h1>Tab Cloaker</h1>
            <p>Enter a new tab title or an image URL below. What you set will be used on the whole site.</p>
            <input id="userinput" type="url" placeholder="Enter a title or image URL" autocomplete="on" />
            <p id="console-output"></p>
        </div>
        <div class="button-wrapper">
            <button id="canvas-btn" style="background-color: #b625cc;">Press to Imitate Canvas</button>
            <button id="aeries-btn" style="background-color: #b625cc;">Press to Imitate Aeries</button>
            <button id="gmail-btn" style="background-color: #b625cc;">Press to Imitate Gmail</button>
        </div>
    </div>

    <!-- Section for ads consent -->
    <div style="width: 100%; max-width: 600px; margin-bottom: 2em;">
        <div>
            <h1>Ads Consent</h1>
            <p>Sometimes, ads are shown to support the creator. If you would not like to see ads or if they slow down your computer too much, you can disable them here.</p>
            <label for="adConsent">Do not show ads at all:</label>
            <input type="checkbox" id="adConsent" name="adConsent">
        </div>
    </div>

    <!-- Button to go to the homepage -->
    <p class="text-center" style="margin-top: 2em;">
        <a href="/index.html" style="text-decoration: none;">
            <button style="background-color: #22c55e;">
                Go to the homepage
            </button>
        </a>
    </p>

    <!-- Button to go back to the top -->
    <button id="back-to-top" style="display: none; position: fixed; bottom: 20px; right: 20px;">Back to top</button>

    <script>
        document.getElementById('create').addEventListener('click', function() {
            const url = document.getElementById('url-target').value;
            if (url) {
                window.open(url, '_blank');
            } else {
                alert('Please enter a URL.');
            }
        });

        function changeTabTitle() {
            const title = document.getElementById('userinput').value;
            if (title) {
                document.title = title;
            } else {
                alert('Please enter a title.');
            }
        }

        function changeTabIcon() {
            const url = document.getElementById('userinput').value;
            if (url) {
                let link = document.querySelector('link[rel="icon"]');
                if (link) {
                    link.href = url;
                } else {
                    link = document.createElement('link');
                    link.rel = 'icon';
                    link.href = url;
                    document.head.appendChild(link);
                }
            } else {
                alert('Please enter an image URL.');
            }
        }

        function resetTabSettings() {
            document.title = 'Vermin Supreme\'s Palace';
            let link = document.querySelector('link[rel="icon"]');
            if (link) {
                link.remove();
            }
        }

        function imitateSite(site) {
            let title, iconUrl;
            switch (site) {
                case 'canvas':
                    title = 'Canvas';
                    iconUrl = 'https://du11hjcvx0uqb.cloudfront.net/dist/images/favicon-e10d657a73.ico';
                    break;
                case 'aeries':
                    title = 'Aeries Student Dashboard';
                    iconUrl = 'https://wascouhsd.aeries.net/student/favicon.ico';
                    break;
                case 'gmail':
                    title = 'Gmail';
                    iconUrl = 'https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x_r2.png';
                    break;
            }
            document.title = title;
            let link = document.querySelector('link[rel="icon"]');
            if (link) {
                link.href = iconUrl;
            } else {
                link = document.createElement('link');
                link.rel = 'icon';
                link.href = iconUrl;
                document.head.appendChild(link);
            }
        }

        document.getElementById('canvas-btn').addEventListener('click', () => imitateSite('canvas'));
        document.getElementById('aeries-btn').addEventListener('click', () => imitateSite('aeries'));
        document.getElementById('gmail-btn').addEventListener('click', () => imitateSite('gmail'));

        const backToTopButton = document.getElementById('back-to-top');
        window.onscroll = function () {
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                backToTopButton.style.display = 'block';
            } else {
                backToTopButton.style.display = 'none';
            }
        };

        backToTopButton.onclick = function () {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        };
    </script>
</body>
</html>
